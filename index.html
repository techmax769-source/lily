<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<title>For My Darling ‚ù§Ô∏è</title>
<style>
:root{
  --bg:#0b0710;
  --pink:#ff6fa3;
  --gold:#ffd166;
  --blue-text:#6fb3ff;
}
*{margin:0;padding:0;box-sizing:border-box}
html,body{height:100%}
body{
  font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
  background:
    radial-gradient(600px 260px at 20% 10%,rgba(255,111,163,0.05),transparent 40%),
    radial-gradient(700px 240px at 90% 80%,rgba(255,209,102,0.04),transparent 60%),
    var(--bg);
  color:#fff;
  overflow:hidden;
  display:flex;
  flex-direction:column;
  align-items:stretch;
  justify-content:stretch;
  padding:16px;
}
.photo-frame{
  height:32%;
  border-radius:18px;
  overflow:hidden;
  position:relative;
  box-shadow:0 14px 32px rgba(0,0,0,0.6);
}
.photo{
  width:100%;
  height:100%;
  object-fit:cover;
  transition:transform .6s ease;
}
.photo:hover{transform:scale(1.02);}
.message{
  flex:1;
  background:rgba(255,255,255,0.03);
  border-radius:16px;
  margin-top:10px;
  padding:16px;
  overflow:auto;
  position:relative;
}
.message h1{
  color:var(--pink);
  font-size:18px;
  margin-bottom:8px;
}
.typing{
  color:var(--blue-text);
  font-size:16px;
  line-height:1.6;
  white-space:pre-wrap;
}
.cursor{
  display:inline-block;
  width:2px;
  height:1.2em;
  background:linear-gradient(180deg,var(--pink),var(--gold));
  animation:blink 1s steps(2,start) infinite;
}
@keyframes blink{50%{opacity:.2}}
/* play button small & translucent */
.play-floating{
  position:absolute;
  bottom:10px;
  right:12px;
  width:52px;
  height:52px;
  border-radius:50%;
  background:rgba(255,255,255,0.07);
  border:1px solid rgba(255,255,255,0.15);
  backdrop-filter:blur(8px);
  display:flex;
  align-items:center;
  justify-content:center;
  box-shadow:0 4px 12px rgba(0,0,0,0.4);
  cursor:pointer;
  transition:all .25s ease;
  z-index:30;
}
.play-floating:hover{transform:scale(1.05);}
.play-floating.playing{animation:pulse 2s infinite;}
@keyframes pulse{
  0%{box-shadow:0 0 0 0 rgba(255,255,255,0.1);}
  70%{box-shadow:0 0 0 10px transparent;}
  100%{box-shadow:0 0 0 0 transparent;}
}
.icon{width:26px;height:26px;fill:#fff;opacity:.85;}
/* signature */
.signature{
  position:absolute;
  bottom:70px;
  left:50%;
  transform:translateX(-50%);
  font-family:'Great Vibes',cursive;
  font-size:22px;
  color:var(--gold);
  letter-spacing:1px;
  opacity:0;
  animation:fadeInGlow 3s ease 3s forwards, shimmer 6s ease-in-out infinite;
  text-shadow:0 0 6px rgba(255,209,102,0.4);
}
@keyframes fadeInGlow{
  0%{opacity:0;transform:translateX(-50%) translateY(10px);}
  50%{opacity:1;}
  100%{opacity:1;transform:translateX(-50%) translateY(0);}
}
@keyframes shimmer{
  0%{text-shadow:0 0 6px rgba(255,209,102,0.3);}
  50%{text-shadow:0 0 12px rgba(255,209,102,0.6);}
  100%{text-shadow:0 0 6px rgba(255,209,102,0.3);}
}
@media(max-width:420px){
  .message h1{font-size:17px;}
  .typing{font-size:15px;}
}
</style>
</head>
<body>
  <div class="photo-frame"><img src="photo.jpg" alt="photo" class="photo"></div>
  <div class="message">
    <h1>For my darling,</h1>
    <div id="typing" class="typing"></div>
  </div>
  <div class="signature">Lilian Gatwiri üí´</div>

  <div class="play-floating" id="musicBtn">
    <svg class="icon" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg">
      <path id="playIcon" d="M24 18 L48 32 L24 46 Z"></path>
      <g id="pauseIcon" style="display:none">
        <rect x="22" y="18" width="6" height="28"></rect>
        <rect x="36" y="18" width="6" height="28"></rect>
      </g>
    </svg>
  </div>

  <audio id="typingAudio" src="typing-sound.mp3" preload="auto"></audio>
  <audio id="loveAudio" src="love-song.mp3" preload="metadata"></audio>

<script>
const message=`When I see you, something inside me just changes. When I see you, I want to hold your hand so tight, and tell you what you mean to meüôà. I assure you that things will never change and my love will remain the same. It has been forever this way since I heard your name,,,hata before tupatane.ü•∫ You have some magical spell that takes me to another world.I long that, lying in thine arms beneath the moon‚Äôs soft glow, we gaze upon the stars above. The passion, the lov, the feeling‚Äîall pure and everlastingüôàü§≠‚ù§Ô∏è.`;

const container=document.getElementById('typing');
const cursor=document.createElement('span');
cursor.className='cursor';
container.appendChild(cursor);

const chars=Array.from(message);
const totalDuration=60000; // 1 minute typing
const avg=totalDuration/chars.length;
const typingAudio=document.getElementById('typingAudio');
typingAudio.volume=0.07;

let idx=0;
function typeNext(){
  if(idx>=chars.length){cursor.style.opacity='0';return;}
  const ch=chars[idx++];
  if(ch==='\\n') container.insertBefore(document.createElement('br'),cursor);
  else container.insertBefore(document.createTextNode(ch),cursor);
  if(ch.trim().length>0){typingAudio.currentTime=0;typingAudio.play().catch(()=>{});}
  container.parentElement.scrollTop=container.parentElement.scrollHeight;
  setTimeout(typeNext,avg);
}
window.addEventListener('load',()=>setTimeout(typeNext,500));

// Music controls with smooth looping
const musicBtn=document.getElementById('musicBtn');
const loveAudio=document.getElementById('loveAudio');
const playIcon=document.getElementById('playIcon');
const pauseIcon=document.getElementById('pauseIcon');
loveAudio.volume=0.8;

musicBtn.addEventListener('click',()=>{
  if(loveAudio.paused){loveAudio.play().catch(()=>{});}
  else loveAudio.pause();
});

loveAudio.addEventListener('play',()=>{
  musicBtn.classList.add('playing');
  playIcon.style.display='none';
  pauseIcon.style.display='block';
});

loveAudio.addEventListener('pause',()=>{
  musicBtn.classList.remove('playing');
  playIcon.style.display='block';
  pauseIcon.style.display='none';
});

// Seamless crossfade replay
loveAudio.addEventListener('timeupdate',()=>{
  if(loveAudio.duration && loveAudio.currentTime >= loveAudio.duration - 1){
    let startVol = loveAudio.volume;
    let step = startVol / 20;
    let fade = setInterval(()=>{
      if(loveAudio.volume > step){
        loveAudio.volume -= step;
      } else {
        clearInterval(fade);
        loveAudio.currentTime = 0;
        loveAudio.play();
        fadeIn();
      }
    },50);
  }
});
function fadeIn(){
  loveAudio.volume = 0;
  let step = 0.04;
  let fade = setInterval(()=>{
    if(loveAudio.volume < 0.8){loveAudio.volume += step;}
    else{clearInterval(fade);}
  },50);
}
</script>
</body>
</html>
